/*! Leaflet.Mapcodes 2016-04-12 */
!function(a,b){"function"==typeof define&&define.amd?define(["leaflet"],a):"object"==typeof exports&&(module.exports=a(require("leaflet"))),"undefined"!=typeof b&&b.L&&(b.L.Control.Mapcodes=a(L))}(function(a){var b=a.Control.extend({options:{position:"bottomright",labelTemplate:"{0}",labelFormatter:void 0},onAdd:function(b){this._map=b;var c="leaflet-control-mapcodes",d=this._container=a.DomUtil.create("div",c);this.options;return this._labelcontainer=a.DomUtil.create("div","uiElement label",d),this._label=a.DomUtil.create("span","labelFirst",this._labelcontainer),b.on("mousemove",this._update,this),b.whenReady(this._update,this),d},onRemove:function(a){a.off("mousemove",this._update,this)},_update:function(a){var b=a.latlng;this.options;if(b){b=b.wrap(),this._currentPos=b;var c=this._LatLngToMapcode(b);this._label.innerHTML=this._createMapcodeLabel(c)}},_LatLngToMapcode:function(a){var b=a.lng,c=a.lat,d=encodeShortest(c,b);return d?d[0].fullmapcode:void 0},_createMapcodeLabel:function(b){var c,d=this.options;return c=d.labelFormatter?d.labelFormatter(b):a.Util.template(d.labelTemplate,{0:b})}});return a.control.Mapcodes=function(a){return new b(a)},a.Map.mergeOptions({MapcodeControl:!1}),a.Map.addInitHook(function(){this.options.MapcodeControl&&(this.MapcodeControl=new a.Control.Mapcodes,this.addControl(this.MapcodeControl))}),b},window);